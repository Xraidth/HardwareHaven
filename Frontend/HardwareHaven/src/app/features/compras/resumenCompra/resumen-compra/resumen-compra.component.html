<div class="custom-container table-container">

  <ng-container *ngIf="loading">
      <p>Loading...</p>
  </ng-container>


  <ng-container *ngIf="purchaseFinished && purchaseMade">
      <div class="d-flex justify-content-between align-items-center">
          <table class="custom-table flex-grow-1">
              <thead>
                  <tr>
                      <th colspan="3" class="text-center">
                          Date of purchase: {{ purchaseMade.fechaCompra | date:'yyyy-MM-dd' }}
                      </th>
                  </tr>
                  <tr>
                      <th>Product</th>
                      <th>Amount</th>
                      <th>SubTotal</th>
                  </tr>
              </thead>
              <tbody>
                  <tr *ngFor="let purchaseLine of purchasesLine">
                      <td>{{ purchaseLine.componente.name }}</td>
                      <td>x{{ purchaseLine.cantidad }}</td>
                      <td class="text-center">${{ purchaseLine.subTotal }}</td>
                  </tr>
                  <tr>
                      <td colspan="2" class="text-end">Total:</td>
                      <td class="text-center">${{ total }}</td>
                  </tr>
              </tbody>
          </table>
      </div>

      <div class="w-100 mt-3 d-flex justify-content-center">
          <button class="btn btn-primary" (click)="invoiceButton()">Generate invoice</button>
      </div>
  </ng-container>


  <ng-container *ngIf="!loading && !purchaseFinished">
      <div class="no-compra">
          <p class="highlight-message">Purchase not made</p>
      </div>
  </ng-container>
</div>
