{"version":3,"names":["cov_xd7v1wj3h","actualCoverage","s","core_1","require","forms_1","session_service_1","functions_1","ShopCarCardComponent","constructor","f","quantity","quantityChange","EventEmitter","ngOnInit","carrito","SessionService","user","productoDelCarro","find","item","id","product","calculateLineCarrito","precios","parseFloat","getMaxPrice","toFixed","decrementQuantity","b","guardarCantidad","emit","incrementQuantity","removeProduct","index","indexOf","splice","Input","Output","exports","tslib_1","__decorate","Component","selector","standalone","imports","FormsModule","template"],"sources":["C:\\Users\\Samsung\\Desktop\\HardwareHaven\\Frontend\\HardwareHaven\\src\\app\\features\\products\\components\\carritoCard\\carrito-card\\shop-car-card.component.ts"],"sourcesContent":["import { Component, Input, Output, EventEmitter, OnInit } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { SessionService } from '../../../../../core/services/share/session.service';\r\nimport { getMaxPrice } from '../../../../../shared/functions/functions';\r\n\r\n@Component({\r\n  selector: 'app-shop-car-card',\r\n  standalone: true,\r\n  imports: [FormsModule],\r\n  templateUrl: './shop-car-card.component.html',\r\n  styleUrls: ['./shop-car-card.component.css']\r\n})\r\nexport class ShopCarCardComponent implements OnInit {\r\n  public quantity: number = 1;\r\n  public carrito: any;\r\n  productoDelCarro: any;\r\n  @Input() product: any;\r\n  @Output() quantityChange = new EventEmitter<void>();\r\n\r\n  ngOnInit() {\r\n\r\n    this.carrito = SessionService.user.carrito;\r\n    this.productoDelCarro = this.carrito.find((item: any) => item.id == this.product.id);\r\n    this.productoDelCarro.quantity = 1;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  calculateLineCarrito(precios:any[]){\r\n\r\n    return parseFloat((getMaxPrice(precios)*this.quantity).toFixed(2));\r\n  }\r\n\r\n  decrementQuantity() {\r\n    if (this.quantity > 1) {\r\n      this.quantity--;\r\n      this.guardarCantidad();\r\n      this.quantityChange.emit();  // Emitir el evento\r\n    }\r\n  }\r\n\r\n  incrementQuantity() {\r\n    this.quantity++;\r\n    this.guardarCantidad();\r\n    this.quantityChange.emit();  // Emitir el evento\r\n  }\r\n\r\n  guardarCantidad() {\r\n    if (this.productoDelCarro) {\r\n        // Si el producto ya existe, actualiza la cantidad\r\n        this.productoDelCarro.quantity = this.quantity;\r\n    }\r\n}\r\n\r\nremoveProduct() {\r\n  if (this.productoDelCarro) {\r\n      const index = this.carrito.indexOf(this.productoDelCarro);\r\n      if (index !== -1) {\r\n          this.carrito.splice(index, 1);\r\n          SessionService.user.carrito = this.carrito;\r\n          this.quantityChange.emit();\r\n      }\r\n  }\r\n}\r\n\r\n\r\n}\r\n"],"mappings":"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","ignoreList":[]}