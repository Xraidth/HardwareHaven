{"version":3,"names":["cov_1kvkecpuqm","actualCoverage","s","core_1","require","http_1","PurchaseService","constructor","http","f","baseUrl","getAll","get","getOne","id","create","body","post","delete","update","bodyCopy","fechaCancel","b","put","facturate","responseType","getMyPurchases","cancel","patch","exports","tslib_1","__decorate","Injectable","providedIn"],"sources":["C:\\Users\\Samsung\\Desktop\\HardwareHaven\\Frontend\\HardwareHaven\\src\\app\\core\\services\\entities\\purchase.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PurchaseService {\r\n\r\n\r\n  private baseUrl = 'http://localhost:3000/api/compra/';\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n  getAll(){\r\n    return this.http.get(`${this.baseUrl}getAll`);\r\n  }\r\n\r\n\r\n  getOne(id: number) {\r\n    return this.http.get(`${this.baseUrl}getOne/${id}`);\r\n  }\r\n\r\n  create(body:{ userId: number}){\r\n    return this.http.post(`${this.baseUrl}insert`, body);\r\n  }\r\n\r\n  delete(id: number) {\r\n    return this.http.delete(`${this.baseUrl}deleteOne/${id}`);\r\n  }\r\n\r\n  update(id: number, body: { fechaCompra: Date, fechaCancel?: Date | null, total: number }) {\r\n    const bodyCopy = { ...body };\r\n    if (!bodyCopy.fechaCancel) {\r\n      delete bodyCopy.fechaCancel;\r\n    }\r\n    return this.http.put(`${this.baseUrl}update/${id}`, body);\r\n  }\r\n\r\n  facturate(id: number) {\r\n    return this.http.get<Blob>(`${this.baseUrl}facturateWeb/${id}`, {\r\n      responseType: 'blob' as 'json',\r\n    });\r\n  }\r\n\r\n  getMyPurchases(){\r\n    return this.http.get(`${this.baseUrl}getMyPurchases`);\r\n  }\r\n\r\n  cancel(id:number){\r\n    return this.http.patch(`${this.baseUrl}cancelPurchase/${id}`, {});\r\n  }\r\n\r\n}\r\n"],"mappings":"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","ignoreList":[]}