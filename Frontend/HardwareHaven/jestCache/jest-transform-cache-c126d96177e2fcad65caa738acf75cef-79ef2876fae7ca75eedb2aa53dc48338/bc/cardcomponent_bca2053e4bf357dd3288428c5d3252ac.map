{"version":3,"names":["cov_1einza89cu","actualCoverage","s","core_1","require","common_1","http_1","http_2","sweet_alert_service_1","session_service_1","functions_1","CardComponent","constructor","http","sweetAlertService","f","productSelected","EventEmitter","productUnSelected","isSelected","products","ngOnInit","loadProducts","verificateSelection","carrito","b","SessionService","user","productInCart","find","item","id","product","selectProduct","getMaxPrice","precios","emit","unSelectProduct","get","subscribe","data","searchProduct","foundProduct","x","name","toLowerCase","includes","imageUrl","infoProduct","mostrarDetalleProducto","Input","Output","exports","tslib_1","__decorate","Component","selector","standalone","imports","CommonModule","HttpClientModule","template"],"sources":["C:\\Users\\Samsung\\Desktop\\HardwareHaven\\Frontend\\HardwareHaven\\src\\app\\features\\products\\components\\card\\card.component.ts"],"sourcesContent":["import { Component, Input, Output, EventEmitter, NgModule , OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { SweetAlertService } from '../../../../core/services/notifications/sweet-alert.service';\r\nimport { SessionService } from '../../../../core/services/share/session.service';\r\nimport { getMaxPrice } from '../../../../shared/functions/functions';\r\n@Component({\r\n  selector: 'app-card',\r\n  standalone: true,\r\n  imports: [CommonModule, HttpClientModule],\r\n  templateUrl: './card.component.html',\r\n  styleUrl: './card.component.css'\r\n})\r\nexport class CardComponent implements OnInit {\r\n\r\n  @Input() product: any;\r\n  @Output() productSelected = new EventEmitter<any>();\r\n  @Output() productUnSelected = new EventEmitter<any>();\r\n\r\n  public isSelected: boolean= false;\r\n  products: { name: string, imageUrl: string }[] = [];\r\n\r\n  constructor(private http: HttpClient, private sweetAlertService: SweetAlertService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadProducts();\r\n    this.verificateSelection();\r\n  }\r\n  verificateSelection(): void {\r\n    const carrito = SessionService.user?.carrito || [];\r\n    const productInCart = carrito.find((item: any) => item.id == this.product.id);\r\n    if (productInCart) {\r\n      this.selectProduct();\r\n    }\r\n  }\r\n\r\n\r\n  getMaxPrice(precios: any[]): number {\r\n    return getMaxPrice(precios);\r\n  }\r\n\r\n\r\n  selectProduct() {\r\n    if(!this.isSelected){\r\n    this.productSelected.emit(this.product);\r\n    this.isSelected = true;\r\n\r\n  }\r\n  }\r\n  unSelectProduct(){\r\n    if(this.isSelected){\r\n      this.productUnSelected.emit(this.product);\r\n      this.isSelected = false;\r\n    }\r\n  }\r\n\r\n  loadProducts() {\r\n    this.http.get<{ name: string, imageUrl: string }[]>('assets/products.json')\r\n      .subscribe(data => {\r\n        this.products = data;\r\n        this.searchProduct();\r\n      });\r\n\r\n  }\r\n  searchProduct() {\r\n\r\n    const foundProduct = this.products.find(x => this.product.name.toLowerCase().includes(x.name.toLowerCase()));\r\n\r\n\r\n    if (foundProduct) {\r\n      this.product.imageUrl = foundProduct.imageUrl;\r\n    } else {\r\n      this.product.imageUrl = \"https://www.smarttools.com.mx/wp-content/uploads/2019/05/imagen-no-disponible.png\";\r\n\r\n    }\r\n  }\r\n\r\n  infoProduct(){\r\n    this.sweetAlertService.mostrarDetalleProducto(this.product);\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAiBY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;;;;;AAjBZ,MAAAC,MAAA;AAAA;AAAA,CAAAH,cAAA,GAAAE,CAAA,OAAAE,OAAA;AACA,MAAAC,QAAA;AAAA;AAAA,CAAAL,cAAA,GAAAE,CAAA,OAAAE,OAAA;AACA,MAAAE,MAAA;AAAA;AAAA,CAAAN,cAAA,GAAAE,CAAA,OAAAE,OAAA;AACA,MAAAG,MAAA;AAAA;AAAA,CAAAP,cAAA,GAAAE,CAAA,OAAAE,OAAA;AACA,MAAAI,qBAAA;AAAA;AAAA,CAAAR,cAAA,GAAAE,CAAA,OAAAE,OAAA;AACA,MAAAK,iBAAA;AAAA;AAAA,CAAAT,cAAA,GAAAE,CAAA,OAAAE,OAAA;AACA,MAAAM,WAAA;AAAA;AAAA,CAAAV,cAAA,GAAAE,CAAA,OAAAE,OAAA;AAAqE;AAAAJ,cAAA,GAAAE,CAAA;AAQ9D,IAAMS,aAAa,GAAnB,MAAMA,aAAa;EASxBC,YAAoBC,IAAgB,EAAUC,iBAAoC;IAAA;IAAAd,cAAA,GAAAe,CAAA;IAAAf,cAAA,GAAAE,CAAA;IAA9D,KAAAW,IAAI,GAAJA,IAAI;IAAY;IAAAb,cAAA,GAAAE,CAAA;IAAU,KAAAY,iBAAiB,GAAjBA,iBAAiB;IAAmB;IAAAd,cAAA,GAAAE,CAAA;IANxE,KAAAc,eAAe,GAAG,IAAIb,MAAA,CAAAc,YAAY,EAAO;IAAA;IAAAjB,cAAA,GAAAE,CAAA;IACzC,KAAAgB,iBAAiB,GAAG,IAAIf,MAAA,CAAAc,YAAY,EAAO;IAAA;IAAAjB,cAAA,GAAAE,CAAA;IAE9C,KAAAiB,UAAU,GAAW,KAAK;IAAC;IAAAnB,cAAA,GAAAE,CAAA;IAClC,KAAAkB,QAAQ,GAAyC,EAAE;EAEkC;EAErFC,QAAQA,CAAA;IAAA;IAAArB,cAAA,GAAAe,CAAA;IAAAf,cAAA,GAAAE,CAAA;IACN,IAAI,CAACoB,YAAY,EAAE;IAAC;IAAAtB,cAAA,GAAAE,CAAA;IACpB,IAAI,CAACqB,mBAAmB,EAAE;EAC5B;EACAA,mBAAmBA,CAAA;IAAA;IAAAvB,cAAA,GAAAe,CAAA;IACjB,MAAMS,OAAO;IAAA;IAAA,CAAAxB,cAAA,GAAAE,CAAA;IAAG;IAAA,CAAAF,cAAA,GAAAyB,CAAA,UAAAhB,iBAAA,CAAAiB,cAAc,CAACC,IAAI,EAAEH,OAAO;IAAA;IAAA,CAAAxB,cAAA,GAAAyB,CAAA,UAAI,EAAE;IAClD,MAAMG,aAAa;IAAA;IAAA,CAAA5B,cAAA,GAAAE,CAAA,QAAGsB,OAAO,CAACK,IAAI,CAAEC,IAAS,IAAK;MAAA;MAAA9B,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MAAA,OAAA4B,IAAI,CAACC,EAAE,IAAI,IAAI,CAACC,OAAO,CAACD,EAAE;IAAF,CAAE,CAAC;IAAC;IAAA/B,cAAA,GAAAE,CAAA;IAC9E,IAAI0B,aAAa,EAAE;MAAA;MAAA5B,cAAA,GAAAyB,CAAA;MAAAzB,cAAA,GAAAE,CAAA;MACjB,IAAI,CAAC+B,aAAa,EAAE;IACtB,CAAC;IAAA;IAAA;MAAAjC,cAAA,GAAAyB,CAAA;IAAA;EACH;EAGAS,WAAWA,CAACC,OAAc;IAAA;IAAAnC,cAAA,GAAAe,CAAA;IAAAf,cAAA,GAAAE,CAAA;IACxB,OAAO,IAAAQ,WAAA,CAAAwB,WAAW,EAACC,OAAO,CAAC;EAC7B;EAGAF,aAAaA,CAAA;IAAA;IAAAjC,cAAA,GAAAe,CAAA;IAAAf,cAAA,GAAAE,CAAA;IACX,IAAG,CAAC,IAAI,CAACiB,UAAU,EAAC;MAAA;MAAAnB,cAAA,GAAAyB,CAAA;MAAAzB,cAAA,GAAAE,CAAA;MACpB,IAAI,CAACc,eAAe,CAACoB,IAAI,CAAC,IAAI,CAACJ,OAAO,CAAC;MAAC;MAAAhC,cAAA,GAAAE,CAAA;MACxC,IAAI,CAACiB,UAAU,GAAG,IAAI;IAExB,CAAC;IAAA;IAAA;MAAAnB,cAAA,GAAAyB,CAAA;IAAA;EACD;EACAY,eAAeA,CAAA;IAAA;IAAArC,cAAA,GAAAe,CAAA;IAAAf,cAAA,GAAAE,CAAA;IACb,IAAG,IAAI,CAACiB,UAAU,EAAC;MAAA;MAAAnB,cAAA,GAAAyB,CAAA;MAAAzB,cAAA,GAAAE,CAAA;MACjB,IAAI,CAACgB,iBAAiB,CAACkB,IAAI,CAAC,IAAI,CAACJ,OAAO,CAAC;MAAC;MAAAhC,cAAA,GAAAE,CAAA;MAC1C,IAAI,CAACiB,UAAU,GAAG,KAAK;IACzB,CAAC;IAAA;IAAA;MAAAnB,cAAA,GAAAyB,CAAA;IAAA;EACH;EAEAH,YAAYA,CAAA;IAAA;IAAAtB,cAAA,GAAAe,CAAA;IAAAf,cAAA,GAAAE,CAAA;IACV,IAAI,CAACW,IAAI,CAACyB,GAAG,CAAuC,sBAAsB,CAAC,CACxEC,SAAS,CAACC,IAAI,IAAG;MAAA;MAAAxC,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MAChB,IAAI,CAACkB,QAAQ,GAAGoB,IAAI;MAAC;MAAAxC,cAAA,GAAAE,CAAA;MACrB,IAAI,CAACuC,aAAa,EAAE;IACtB,CAAC,CAAC;EAEN;EACAA,aAAaA,CAAA;IAAA;IAAAzC,cAAA,GAAAe,CAAA;IAEX,MAAM2B,YAAY;IAAA;IAAA,CAAA1C,cAAA,GAAAE,CAAA,QAAG,IAAI,CAACkB,QAAQ,CAACS,IAAI,CAACc,CAAC,IAAI;MAAA;MAAA3C,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MAAA,WAAI,CAAC8B,OAAO,CAACY,IAAI,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACH,CAAC,CAACC,IAAI,CAACC,WAAW,EAAE,CAAC;IAAD,CAAC,CAAC;IAAC;IAAA7C,cAAA,GAAAE,CAAA;IAG7G,IAAIwC,YAAY,EAAE;MAAA;MAAA1C,cAAA,GAAAyB,CAAA;MAAAzB,cAAA,GAAAE,CAAA;MAChB,IAAI,CAAC8B,OAAO,CAACe,QAAQ,GAAGL,YAAY,CAACK,QAAQ;IAC/C,CAAC,MAAM;MAAA;MAAA/C,cAAA,GAAAyB,CAAA;MAAAzB,cAAA,GAAAE,CAAA;MACL,IAAI,CAAC8B,OAAO,CAACe,QAAQ,GAAG,mFAAmF;IAE7G;EACF;EAEAC,WAAWA,CAAA;IAAA;IAAAhD,cAAA,GAAAe,CAAA;IAAAf,cAAA,GAAAE,CAAA;IACT,IAAI,CAACY,iBAAiB,CAACmC,sBAAsB,CAAC,IAAI,CAACjB,OAAO,CAAC;EAC7D;;;;;;;;;;;;;;;;;;;;cAhEC7B,MAAA,CAAA+C;MAAK;;cACL/C,MAAA,CAAAgD;MAAM;;cACNhD,MAAA,CAAAgD;MAAM;;;;;;AAJIC,OAAA,CAAAzC,aAAA,GAAAA,aAAA;AAAa;AAAAX,cAAA,GAAAE,CAAA;wBAAbS,aAAa,GAAA0C,OAAA,CAAAC,UAAA,EAPzB,IAAAnD,MAAA,CAAAoD,SAAS,EAAC;EACTC,QAAQ,EAAE,UAAU;EACpBC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAACrD,QAAA,CAAAsD,YAAY,EAAEpD,MAAA,CAAAqD,gBAAgB,CAAC;EACzCC,QAAA,EAAAzD,OAAA;CAED,CAAC,C,EACWO,aAAa,CAuEzB","ignoreList":[]}