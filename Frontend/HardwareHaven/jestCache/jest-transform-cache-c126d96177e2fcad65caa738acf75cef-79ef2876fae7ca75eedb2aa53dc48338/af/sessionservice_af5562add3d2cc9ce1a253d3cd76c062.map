{"version":3,"names":["core_1","cov_238v5uifu3","s","require","jwt_decode_1","SessionService","setUser","f","decoding","decodingJWT","user","b","undefined","jwt","decoded","jwtDecode","error","saveSession","rememberKey","storage","localStorage","sessionStorage","setItem","JSON","stringify","rememberSession","token","getItem","parse","deleteSession","removeItem","saveOfferNotice","rememberOffer","item","exports","tslib_1","__decorate","Injectable","providedIn"],"sources":["C:\\Users\\Samsung\\Desktop\\HardwareHaven\\Frontend\\HardwareHaven\\src\\app\\core\\services\\share\\session.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { jwtDecode } from \"jwt-decode\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SessionService {\r\n\r\n\r\n\r\n  public static user:any;\r\n  public static jwt:any;\r\n\r\n  private static setUser():any\r\n  {\r\n    const decoding = this.decodingJWT();\r\n    this.user = decoding && decoding.user ? decoding.user : undefined;\r\n    return this.user;\r\n  }\r\n\r\n  public static decodingJWT(): any {\r\n\r\n    if (this.jwt) {\r\n      try {\r\n        const decoded = jwtDecode(this.jwt);\r\n        return decoded;\r\n      } catch (error) {\r\n        return undefined;\r\n      }\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n\r\n\r\n\r\n  public static saveSession(jwt:any,rememberKey:boolean): any{\r\n    this.jwt = jwt;\r\n    const storage = rememberKey ? localStorage : sessionStorage;\r\n    storage.setItem('jwt', JSON.stringify(jwt));\r\n    return this.setUser();\r\n  }\r\n\r\n\r\n\r\n  public static rememberSession(): any {\r\n    const token = localStorage.getItem('jwt') || sessionStorage.getItem('jwt');\r\n    this.jwt = token ? JSON.parse(token) : null;\r\n    return this.setUser();\r\n  }\r\n\r\n  public static deleteSession(): void {\r\n      localStorage.removeItem('jwt');\r\n      sessionStorage.removeItem('jwt');\r\n      this.user = null;\r\n      this.jwt = null;\r\n  }\r\n  public static saveOfferNotice(): void {\r\n    sessionStorage.setItem('offerNotice', JSON.stringify(\"OfferShown\"));\r\n}\r\n\r\npublic static rememberOffer(): any {\r\n    const item = sessionStorage.getItem('offerNotice');\r\n    if (item) {\r\n        return JSON.parse(item);\r\n    }\r\n    return undefined;\r\n}\r\n\r\n\r\n}\r\n"],"mappings":"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","ignoreList":[]}